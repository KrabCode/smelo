<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expected Value – SMELO.CZ</title>
    <link rel="icon" type="image/x-icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../base.css">
    <style>
        .example { font-family: monospace; }
        .tip { background: #1a1a2e; border: 1px solid #2a2a4e; border-radius: 8px; padding: 14px; margin: 12px 0; color: #aab; font-size: 0.9em; }
    </style>
</head>
<body>
    <div class="header">
        <h1><a href="../../#ev">&larr; ŠMELO.CZ</a></h1>
        <hr>
    </div>

    <div class="container">
        <h2>Expected Value (EV)</h2>
        <p>
            EV je průměrný výsledek rozhodnutí, kdybys ho opakoval nekonečněkrát.
            Celý poker se dá zredukovat na jedno pravidlo: opakovaně dělej +EV rozhodnutí.
        </p>

        <div class="formula">
            EV = (šance na výhru &times; kolik vyhraješ) &minus; (šance na prohru &times; kolik prohraješ)
        </div>

        <p>
            Pokud je EV kladné, rozhodnutí je dlouhodobě výdělečné. I když prohraješ konkrétní ruku.
        </p>

        <h2>Příklad: Call s flush draw</h2>
        <div class="example">
            <span class="label">Pot:</span> <span class="val">100</span><br>
            <span class="label">Bet soupeře:</span> <span class="val">50</span><br>
            <span class="label">Musíš callovat:</span> <span class="val">50</span><br>
            <span class="label">Tvá equity:</span> <span class="val">36%</span> (flush draw, 9 outů na flopu)<br><br>
            <span class="label">Když vyhraješ:</span> 100 + 50 = <span class="val">+150</span><br>
            <span class="label">Když prohraješ:</span> <span class="val">&minus;50</span><br><br>
            <span class="label">EV callu:</span> (0.36 &times; 150) &minus; (0.64 &times; 50)<br>
            = 54 &minus; 32 = <span class="val">+22</span><br><br>
            Call je +EV. Průměrně vyděláš 22 za každé takové rozhodnutí.
        </div>

        <h2>Příklad: Bluff na riveru</h2>
        <div class="example">
            <span class="label">Pot:</span> <span class="val">200</span><br>
            <span class="label">Tvůj bet:</span> <span class="val">150</span><br>
            <span class="label">Odhaduješ, že soupeř foldne:</span> <span class="val">60%</span> času<br><br>
            <span class="label">Když foldne:</span> <span class="val">+200</span> (vyhraje pot)<br>
            <span class="label">Když callne:</span> <span class="val">&minus;150</span> (ztratíš bet)<br><br>
            <span class="label">EV bluffu:</span> (0.60 &times; 200) &minus; (0.40 &times; 150)<br>
            = 120 &minus; 60 = <span class="val">+60</span><br><br>
            Bluff je +EV. I když ve 40% případů prohraješ 150, celkově vyděláváš.
        </div>

        <h2>EV Callu</h2>
        <div class="calc">
            <div class="calc-row">
                <div class="calc-field">
                    <label>Pot (před betem)</label>
                    <input type="number" id="cPot" placeholder="100" value="100" min="0" step="any">
                </div>
                <div class="calc-field">
                    <label>Bet soupeře (= tvůj call)</label>
                    <input type="number" id="cCall" placeholder="50" value="50" min="0" step="any">
                </div>
            </div>
            <div class="calc-row">
                <div class="calc-field">
                    <label>Equity (%)</label>
                    <input type="number" id="cEq" placeholder="36" value="36" min="0" max="100" step="any">
                </div>
            </div>

            <div class="result" id="cResult">
                <div class="result-row">
                    <span class="result-label">EV callu</span>
                    <span class="result-value" id="cEV">&ndash;</span>
                </div>
                <div class="result-row">
                    <span class="result-label">Musíš vyhrát alespoň</span>
                    <span class="result-value" id="cMinEq">&ndash;</span>
                </div>
                <div class="result-row">
                    <span class="result-label">Hraniční bet při dané equity</span>
                    <span class="result-value" id="cBreakBet">&ndash;</span>
                </div>
            </div>
            <div class="note" id="cNote"></div>
        </div>

        <h2>EV Bluffu</h2>
        <div class="calc">
            <div class="calc-row">
                <div class="calc-field">
                    <label>Pot (před betem)</label>
                    <input type="number" id="bPot" placeholder="200" value="200" min="0" step="any">
                </div>
                <div class="calc-field">
                    <label>Tvůj bet</label>
                    <input type="number" id="bBet" placeholder="150" value="150" min="0" step="any">
                </div>
            </div>
            <div class="calc-row">
                <div class="calc-field">
                    <label>Fold equity (%)</label>
                    <input type="number" id="bFold" placeholder="60" value="60" min="0" max="100" step="any">
                </div>
            </div>

            <div class="result" id="bResult">
                <div class="result-row">
                    <span class="result-label">EV bluffu</span>
                    <span class="result-value" id="bEV">&ndash;</span>
                </div>
                <div class="result-row">
                    <span class="result-label">Soupeř musí foldnout alespoň</span>
                    <span class="result-value" id="bMinFold">&ndash;</span>
                </div>
            </div>
            <div class="note" id="bNote"></div>
        </div>

        <h2>EV a poker strategie</h2>

        <div class="tip">
            <strong>Pot odds jsou zkratka pro EV.</strong> Když equity > pot odds, EV callu je kladné. Nemusíš počítat celý vzorec &mdash; stačí porovnat dvě procenta.
        </div>

        <div class="tip">
            <strong>Variance není EV.</strong> Krátkodobě můžeš prohrávat i s +EV rozhodnutími. Ale po tisících ruk se výsledky přiblíží k EV. Proto je důležitý <a href="../bankroll/" style="color:#ffb300;">bankroll management</a>.
        </div>

        <div class="tip">
            <strong>Každé rozhodnutí má EV.</strong> Fold má vždy EV = 0. Call a raise mají kladný nebo záporný EV. Tvůj cíl je vybrat akci s nejvyšším EV.
        </div>
    </div>

    <script>
        function styleNote(el, ev) {
            if (ev > 0) {
                el.textContent = '+EV. Dlouhodobě výdělečné.';
                el.style.background = '#1a2e1a'; el.style.borderColor = '#2a4a2a'; el.style.color = '#8fbc8f';
            } else if (ev < 0) {
                el.textContent = '-EV. Dlouhodobě ztrátové.';
                el.style.background = '#2e1a1a'; el.style.borderColor = '#4a2a2a'; el.style.color = '#bc8f8f';
            } else {
                el.textContent = 'Break-even.';
                el.style.background = '#1a1a2e'; el.style.borderColor = '#2a2a4e'; el.style.color = '#aab';
            }
            el.classList.add('visible');
        }

        var cPot = document.getElementById('cPot'), cCall = document.getElementById('cCall'), cEq = document.getElementById('cEq');
        var cResult = document.getElementById('cResult'), cNote = document.getElementById('cNote');

        function calcCall() {
            var pot = parseFloat(cPot.value), call = parseFloat(cCall.value), eq = parseFloat(cEq.value);
            if (isNaN(pot) || isNaN(call) || isNaN(eq) || pot < 0 || call <= 0 || eq < 0 || eq > 100) {
                cResult.classList.remove('visible'); cNote.classList.remove('visible'); return;
            }
            var ev = (eq / 100) * (pot + call) - ((100 - eq) / 100) * call;
            var minEq = call / (pot + call + call) * 100;
            var eqFrac = eq / 100;
            var breakBet = eqFrac >= 0.5 ? null : eqFrac * pot / (1 - 2 * eqFrac);
            document.getElementById('cEV').textContent = (ev >= 0 ? '+' : '') + ev.toFixed(1);
            document.getElementById('cMinEq').textContent = minEq.toFixed(1) + '%';
            document.getElementById('cBreakBet').textContent = breakBet === null ? 'libovolný' : Math.floor(breakBet).toLocaleString('cs');
            cResult.classList.add('visible');
            styleNote(cNote, ev);
        }

        cPot.addEventListener('input', calcCall); cCall.addEventListener('input', calcCall); cEq.addEventListener('input', calcCall);
        calcCall();

        var bPot = document.getElementById('bPot'), bBet = document.getElementById('bBet'), bFold = document.getElementById('bFold');
        var bResult = document.getElementById('bResult'), bNote = document.getElementById('bNote');

        function calcBluff() {
            var pot = parseFloat(bPot.value), bet = parseFloat(bBet.value), fold = parseFloat(bFold.value);
            if (isNaN(pot) || isNaN(bet) || isNaN(fold) || pot < 0 || bet <= 0 || fold < 0 || fold > 100) {
                bResult.classList.remove('visible'); bNote.classList.remove('visible'); return;
            }
            var ev = (fold / 100) * pot - ((100 - fold) / 100) * bet;
            var minFold = bet / (pot + bet) * 100;
            document.getElementById('bEV').textContent = (ev >= 0 ? '+' : '') + ev.toFixed(1);
            document.getElementById('bMinFold').textContent = minFold.toFixed(1) + '%';
            bResult.classList.add('visible');
            styleNote(bNote, ev);
        }

        bPot.addEventListener('input', calcBluff); bBet.addEventListener('input', calcBluff); bFold.addEventListener('input', calcBluff);
        calcBluff();
    </script>
<script src="../../reveal.js"></script>
</body>
</html>
